const categories: Record<string, string> = {
    "convenience-food": "4387c265-1836-48cb-8988-46bd28e26231",
    "eating-out-food": "b867e593-00c2-4b13-a23e-8716dca57f0b",
    "eating-out-w-people-food": "4ec35f38-ea66-42e7-b5e0-c06de2a4908e",
    "food-delivery": "ff90ade2-6343-4caf-b2f5-8ec9f7d087ba",
    transportation: "45556424-abf5-4b2a-ba5e-cb50cb80af6b",
    "drink-bulk-large": "aa41536d-fde7-47af-93ad-24eb1ce7e11a",
    snacks: "f8fc089f-1d9a-43fa-9aa1-4515d7bfb3b0",
    groceries: "a2231cd0-8d41-4fa6-80e0-cab77b678f3f",
    givingsg: "a5c24030-84e4-40d8-82fa-c90366a86aea",
    gym: "d3032178-a29a-4e46-b4d3-7adeb8d55210",
    "apple-music": "ddc3dc02-3fab-4465-a11b-34f1e8adbe0e",
    icloud: "4c49b407-50e4-4e16-9ae4-b8bb0213b548",
    "xbox-subscription": "70f96f28-d71d-4a8a-9bf1-a014cf608152",
    "youtube-premium": "fd6ae0cf-1c94-4b5d-a663-17022b42eb56",
    "domains-hosting-and-cloud": "9bb87378-8b93-413c-a376-e75d648e7cdd",
    "ynab-subscription": "b40917ff-5846-47f0-9d7e-ce514c9f5257",
    "inflow-ready-to-assign": "de98e7a8-8c80-4a04-bc74-b5de42220c2b",
    uncategorized: "0a7b9e8b-96fb-4095-b277-77e2b84f91e7",
    rent: "2313ee84-cccc-45d5-a92f-cb338e35562d",
    electric: "085dd241-3682-4b7a-a1ca-9b3b0a2b5101",
    internet: "e1801e20-e076-42c8-addc-62f7da020f8c",
    cellphone: "0d1063f0-3329-417f-8006-bab0fbb62d80",
    "cellphone-office": "4f98f386-50b5-40c4-b296-4f83448cf247",
    "dbs-livefresh": "7ab620f2-8bad-4956-a9fa-d78058861b04",
    "sc-smart-card": "98793353-3398-446a-aa04-c486c4a0c6c9",
    "dbs-altitude": "aa293582-194c-441b-97ed-e8dbae965dfe",
    "grab-paylater": "b9a7162a-d0a5-43de-8e40-2c2b4cce8b2c",
    "mbp-samiul": "be3cb683-e34f-48fc-965a-a41405442d24",
    "interest-fees-and-fines": "90db55fd-3cad-43c4-9165-8d2ab07b80e0",
    "tax-instalment-2021": "52ed8161-d93a-45b5-81ca-52292ae7f53a",
    "return-salary": "6145b052-5f39-4493-b1d1-05c475b669e7",
    "new-house-rental": "1ba8a292-b97d-4017-951a-a564f3e89806",
    "starter-emergency-fund": "113bd60e-541a-4b04-9fab-c0a7123ad3ae",
    "job-loss-fund": "b4a109bb-8330-4639-b21f-ccad4b6d7495",
    "medical-bills": "0ca2aa7f-db65-41bd-b328-60fc01e1e62b",
    "home-maintenance": "c4629fa4-8635-4e59-8988-3e9668d032cf",
    "aircon-servicing": "420d6ca9-854e-4605-89a8-34da5ff84905",
    clothing: "4c0f6ffc-41ef-4a03-b18f-4b19e5f11caf",
    "stuff-i-havent-budgeted-for": "a4a77094-73ba-4e82-adec-825760724848",
    gifts: "1befd2da-e57e-476e-a349-5a27d0b1e602",
    grooming: "ca523974-622d-4b8c-860e-3e7382e71f2a",
    haircut: "a02e1bfc-b1a6-45d9-a455-9c9eb633c6fa",
    entertainment: "d1a72f59-4322-4ddd-9642-45ae1969a62c",
    relax: "8eacb412-42c6-4125-beb4-c86df72dd9da",
    "ieee-subscription": "b2a54889-98ce-42b7-a590-b77596389c08",
    "national-library-board-nlb": "86b70252-6c03-433b-8f26-1b8c23462512",
    "her-ring": "777dbe47-bbc3-4a50-b3a7-1a6685550544",
    wedding: "99c54115-8454-47f4-9a17-983b185bdfb1",
    "iras-income-tax-2022": "f202161f-b083-44c6-92f3-b7e0d90abde3",
    "university-of-london": "b7994e59-e913-4440-af4b-678009697845",
    hobbies: "107556be-12c9-4b8f-a081-be3c8f2074e0"
};

const mapping: Record<string, RegExp[]> = {
    "convenience-food": [/esso-cheers/gi, /spc/gi, /7-?eleven/gi],
    "eating-out-food": [
        /burger king/gi, /wang/gi, /texas chicken/gi, /mcdonald/gi, /kfc/gi,
        /old chang kee/gi, /esarn/gi, /food ?court/gi, /stuff'd/gi, /wok hey/gi,
        /ramen keisuke/gi
    ],
    "eating-out-w-people-food": [],
    "food-delivery": [/hanbaobao/gi, /foodpanda/gi],
    transportation: [/bus\/mrt/gi],
    "drink-bulk-large": [],
    snacks: [],
    groceries: [/ntuc/gi, /minimart/gi],
    givingsg: [],
    gym: [/body fit train/gi],
    "apple-music": [],
    icloud: [],
    "xbox-subscription": [/microsoft/g],
    "youtube-premium": [/youtube/gi],
    "domains-hosting-and-cloud": [],
    "ynab-subscription": [/youneedabudget/gi],
    "inflow-ready-to-assign": [],
    uncategorized: [],
    rent: [],
    electric: [],
    internet: [],
    cellphone: [],
    "cellphone-office": [],
    "dbs-livefresh": [],
    "sc-smart-card": [],
    "dbs-altitude": [],
    "grab-paylater": [],
    "mbp-samiul": [],
    "interest-fees-and-fines": [],
    "tax-instalment-2021": [],
    "return-salary": [],
    "new-house-rental": [],
    "starter-emergency-fund": [],
    "job-loss-fund": [],
    "medical-bills": [/unity/gi, /guardian/gi, /watson/gi],
    "home-maintenance": [],
    "aircon-servicing": [],
    clothing: [],
    "stuff-i-havent-budgeted-for": [],
    gifts: [],
    grooming: [],
    haircut: [],
    entertainment: [],
    relax: [],
    "ieee-subscription": [],
    "national-library-board-nlb": [],
    "her-ring": [],
    wedding: [],
    "iras-income-tax-2022": [],
    "university-of-london": [],
    hobbies: []
};


export function classify(merchantName?: string): string | null {
    if (!merchantName) return null;

    for (const categoryKey of Object.keys(mapping)) {
        for (const regexp of mapping[categoryKey]) {
            if (merchantName.search(regexp) !== -1) {
                return categories[categoryKey];
            }
        }
    }

    return null;
}